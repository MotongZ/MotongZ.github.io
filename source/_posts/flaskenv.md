---
title: 我的第一个flask项目：部署和碰到的一些问题
date: 2023-05-23 17:10:25
tags: tec
---
[项目指引](http://motongz.pythonanywhere.com/)~~即日起30天内有效~~  

Summary
==================
花了大约一周时间，跟着李辉老师的教程学习了flask项目，学习了一些基础的框架架构。项目详情请见
<https://github.com/helloflask/flask-tutorial>，理性的说，这是个很不错而且全面的项目。
项目学习过程中遇到了很多问题，显而易见的，这都是我python基础孱弱，并且毫无综合项目经验的缘故。  
本文欲简单介绍一下项目过程中碰到的一些问题和解决，还有一些小小的随想罢了。

Knowledge
===============
Flask：一个轻量级框架，不同于Django，Flask主打的就是一个简单轻便，无需下载过多的包和依赖，自定义添加很方便，轻量级的含金量。  
SQLAlchemy：网上给出的定义是一个强大的ORM包。基本不需要安装和依赖，import完后本地创一个.db嗯造就行了，在使用过程中也以db.session.operation为主。  
本次项目几乎没用到太多这里的扩展，只是用一些基础功能，crud之类的。所以这个玩意的认知还是有限，以后有机会可以学习更多。  
装饰器：python中的一个很有意思的特性，简单来说就是在不想改变内部代码的情况下给他附赠一些功能，让他执行时可以执行更多。语法糖为@标识，标准格式如下：  
    
    def 装饰器(func):
        def wrapfunction():
            pass..
        return warpfunction
    @装饰器
    def func(parameter a):
        pass...     
上面首先定义装饰器函数，装饰器函数传进去函数作为参数（python特性导致它可以将函数作为参数，变量等，生猛的一），举一个简单的例子：  

    def func():
        pass
    a=fun
    a()#此时a()等同于执行func()
所以，装饰器传一个函数是正常操作。然后最后在这个大的函数下return内部wrap方法即可。这样的效果就是，你原本的func没有改动，但是有额外执行了一些warp中的方法。这就是装饰器的特性，在本例中，大量使用了@app.route这一方法用来指引url，这是很重要的。  
Jinjia2：Jinjia2相关语法见[Jinjia2](https://docs.jinkan.org/docs/jinja2/)~~为什么我要用官方的链接呢？因为我感觉这博客是基于此写的，我原本写了一些语法但是在生成hexo时报错了！报错了。。。告诉我缺失tag.....~~

    #一个例子:base.html
    {%block head%}
    pass...
    {%end block%}
    \\\\\\\
    #下面是一个待插入模块
    {%bolck content%}
    {%endblock%}
    \\\\\
    #继承网站:extend.html
    {%extends 'base.html'%}
    #继承base.html。同时还会继承页脚footer部分
    pass...
    {%block content%}
    pass..你自己的语句，它会自动给插进去
    {%endblock%}
大概是这样的原理。
  
过程
============
困难主要在于工程能力比较烂，很多东西构造和搭建总是遇见不懂得东西。还好有chatgpt保我小命，很多问题直接问gpt都可以得到相当令人满意的回答。整个流程大致就是看文档&源码---自己稍稍改一改---最后deploy的过程，然而最后还是完全按照源代码来了，因为部署项目的部分我完全不明白，从来没有部署过一个，配置好所需的虚拟环境后刷新一下就可以开跑了。后端一些操作管理一般都是通过平台提供的bash命令交互来实现（如这个例子里的initdb、admin等操作都是通过bash来的）。   
由于我完全参照的教程，所以我还按照教程的需求进行代码管理和一定量的重构，原本统统集合在一个app.py下跑，后面根据具体操作不同把他们都分散到了不同逻辑的.py下。简短的一个项目包含了很多，从框架的教程，再到用到的一些语法，项目管理，项目部署，一些资源的利用收集，都让我感觉到了具体而切实的进步，这些东西应该是一个科班出身的学生必不可少的，但我却不具备那样的素养，只能为过去消逝的时光感到遗憾了。   
 
最后...
=================
这是我第一篇博客记录，如你所见写的很烂，没有思路的苍蝇一般想到什么写什么，完全不具备那种从业人员该具备的严谨和强结构性。所以如果这篇文章让你觉得
很烂，请别喷我，关掉就是了。希望我以后能记录一些更好的project和更有意义的（贴近现实）的技术和项目。IT精神不仅仅是开源，还应该是一种坚持不懈学习的精神，不应该因为时代在发展变化就拒绝变化，不适应新时代潮流的人只能留在旧时代顾影自怜吧。  

顺便说一点
================
<https://github.com/iissnan/hexo-theme-next/issues/1672> 关于回车在本地渲染不换行，但上传换行的解释。最根源的问题是mark中的gfm选项。